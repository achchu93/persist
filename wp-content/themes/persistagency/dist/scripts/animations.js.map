{"version":3,"sources":["webpack:///./resources/assets/scripts/animations.js"],"names":["animSections","lotties","console","i","animElements","element","dataAnim","animation","container","renderer","loop","autoplay","path","obj","rendererSettings","preserveAspectRatio","parallaxSection","positionFromTop","triggerLottie","parallaxElems","scrolled","window","scrollPos","elem","setTimeout","fadeInSection","document","windowHeight","buildLotties","checkSection","$","pageHeader","init"],"mappings":"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","file":"/scripts/animations.js","sourcesContent":[" \r\nlet animSections = [];\r\n\r\n(function() {\r\n\r\n\tvar animElements, parallaxElems, lotties = {};\r\n\r\n\tfunction buildLotties() {\r\n\t\tconsole.log('buildLotties', lotties);\r\n\r\n    for (var i = 0; i < animElements.length; i++) {\r\n      var element = animElements[i];\r\n\t\t\tvar dataAnim = element.dataset.animation;\r\n\r\n\t\t\tif(dataAnim && !animSections.includes(dataAnim)) {\r\n\t\t\t\tlet animation = bodymovin.loadAnimation( {\r\n\t\t\t\t\tcontainer: element.querySelector('.section-bg'),\r\n\t\t\t\t\trenderer: 'svg',\r\n\t\t\t\t\tloop: false,\r\n\t\t\t\t\tautoplay: false,\r\n\t\t\t\t\tpath: obj.templateUrl + '/dist/animations/'+dataAnim+'/data.json',\r\n\t\t\t\t\trendererSettings: {\r\n\t\t\t\t\t\tpreserveAspectRatio: 'xMinYMin slice',\r\n\t\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t} );\r\n\t\t\t\tlotties[dataAnim] = animation;\r\n\t\t\t}\r\n\t\t\t\r\n    }\r\n\t\tconsole.log('buildLotties', lotties);\r\n\t}\r\n\r\n  function checkSection() {\r\n\t\tparallaxSection();\r\n\t\t// var scrolled = window.pageYOffset;\r\n\r\n\t\t//fade in\r\n    for (var i = 0; i < animElements.length; i++) {\r\n      var element = animElements[i];\r\n\t\t\tvar dataAnim = element.dataset.animation;\r\n\t\t\t\r\n      var positionFromTop = animElements[i].getBoundingClientRect().top;\r\n      if (positionFromTop - windowHeight <= 0) {\r\n\r\n\t\t\t\tif(element.classList.contains('scroll-fade-in') && element.classList.contains('anim-in')){\r\n\t\t\t\t\telement.classList.add('start-fade-in');\r\n\t\t\t\t\telement.classList.remove('fade-in');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(dataAnim && !animSections.includes(dataAnim)) {\r\n\t\t\t\t\t// console.log(dataAnim);\r\n\t\t\t\t\tanimSections.push(dataAnim);\r\n\t\t\t\t\ttriggerLottie(element) \r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// console.log(element.dataset.animation);\r\n\t\t\t\t// element.style.marginTop = - (scrolled * 0.2) + 'px';\r\n      }\r\n    }\r\n  }\r\n\r\n\tfunction fadeInSection(section){\r\n    for (var i = 0; i < animElements.length; i++) {\r\n      var element = animElements[i];\r\n\t\t\t\r\n      var positionFromTop = animElements[i].getBoundingClientRect().top;\r\n      if (positionFromTop - windowHeight <= 0) {\r\n\t\t\t\tconsole.log('fadeIn', section);\r\n\t\t\t\tif(element.classList.contains('fade-in')){\r\n\t\t\t\t\telement.classList.add('start-fade-in');\r\n\t\t\t\t\telement.classList.remove('fade-in');\r\n\t\t\t\t}\r\n\r\n      }\r\n    }\t\t\r\n\t}\r\n\r\n  function parallaxSection() {\r\n    for (var i = 0; i < parallaxElems.length; i++) {\r\n      var element = parallaxElems[i];\r\n\t\t\t// if(debounceTimer) {\r\n\t\t\t// \twindow.clearTimeout(debounceTimer);\r\n\t\t\t// }\r\n\t\t\t// debounceTimer = window.setTimeout(function() {\r\n\t\t\t\tvar scrolled = window.pageYOffset;\r\n\t\t\t\tvar scrollPos = -(scrolled * 0.15);\r\n\t\t\t\telement.style.transform = `translate(0, ${scrollPos}px)`;\r\n\t\t\t// }, 100);\r\n\t\t}\r\n  }\r\n\r\n\tfunction triggerLottie(elem) {\r\n\t\tif(!elem.dataset.animationdelay) elem.dataset.animationdelay = 0;\r\n\t\tconsole.log('triggerLottie', elem.dataset.animationdelay);\r\n\t\tif(lotties[elem.dataset.animation] != 'undefined') {\r\n\t\t\tsetTimeout(() => { \r\n\t\t\t\tlotties[elem.dataset.animation].play();\r\n\t\t\t\tlotties[elem.dataset.animation].addEventListener('complete', function() {\r\n\t\t\t\t\tconsole.log(elem.dataset.animation, 'done!');\r\n\t\t\t\t\tfadeInSection(elem.dataset.animation);\r\n\t\t\t\t})\r\n\t\t\t}, elem.dataset.animationdelay);\r\n\t\t}\r\n\t}\r\n\r\n  window.addEventListener('scroll', checkSection);\r\n\r\n  function init() {\r\n\t\tanimElements = document.querySelectorAll('.anim-in');\r\n\t\tparallaxElems = document.querySelectorAll('.parallax');\r\n    windowHeight = window.innerHeight - 200;\r\n\t\tbuildLotties();\r\n    checkSection();\r\n\t\tconsole.log(document.body.clientWidth);\r\n\t\tif( $('body.home').length && document.body.clientWidth > 640 ){\r\n\t\t\t\r\n\t\t\tdocument.documentElement.style.scrollSnapType = \"y mandatory\";\r\n\t\t}\r\n\t\tsetTimeout(function(){\r\n\t\t\tconst pageHeader = document.getElementById('pageHeader');\r\n\t\t\tpageHeader.classList.add('start-fade-in');\r\n\t\t\tpageHeader.classList.remove('fade-in');\r\n\t\t}, 500);\r\n\r\n\r\n\t\t\r\n\t}\r\n\r\n\tvar windowHeight = 0;\r\n\tinit();\r\n\r\n} )();"],"sourceRoot":""}